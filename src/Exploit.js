import React from 'react'
import Jotted from 'jotted'
import Radium from 'radium'

const loadJottedOnNode = function (code, node) {
  new Jotted(node, { // eslint-disable-line no-new
    files: [
      {
        type: 'html',
        content: '<h1>Hi there!</h1>'
      }, {
        type: 'js',
        content: code
      }
    ]
  })
}

// const styles = {
  // one: {
  //   color: 'red'
  // },
  // two: {
  //   backgroundColor: 'blue'
  // }
// }

class Exploit extends React.Component {
  constructor (props) {
    super(props)
    this.loadJottedOnNode = loadJottedOnNode.bind(this, this.props.code)
  }
  render () {
    return (
      <div>
        <p>{this.props.explanation}</p>
        <div
          ref={this.loadJottedOnNode}
          // style={[
          //   styles.one,
          //   styles.two
          // ]}
        />
      </div>
    )
  }
}
Exploit.propTypes = {
  code: React.PropTypes.string.isRequired,
  explanation: React.PropTypes.string
}

module.exports = Radium(Exploit)
